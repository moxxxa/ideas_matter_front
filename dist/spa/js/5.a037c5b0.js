(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{7424:function(t,e,o){"use strict";var n=o("fc74"),i=o.n(n),a=o("59a1"),s=o.n(a),c=o("b178"),r=function(){function t(){i()(this,t)}return s()(t,[{key:"login",value:function(t){return window.axios.post("/login",t)}},{key:"createUser",value:function(t){return window.axios.post("/users",t)}},{key:"listClientRequests",value:function(){return window.axios.get("/client-requests")}},{key:"getClientRequest",value:function(t){return window.axios.get("/client-requests/".concat(t))}},{key:"respondRequest",value:function(t,e){return window.axios.post("/client-requests/".concat(t,"/respond"),{content:e})}},{key:"loading",value:function(t,e){console.log("start le loading"),c["a"].show({message:t,messageColor:"white",spinnerSize:250,spinnerColor:"white",delay:e||400})}},{key:"finishedLoading",value:function(){console.log("finish loading"),c["a"].hide()}},{key:"sendPost",value:function(t,e){return window.axios.post("/forum/post/creator",{subject:t,content:e})}},{key:"getPosts",value:function(t){return window.axios.get("/forum/posts")}},{key:"commentPost",value:function(t,e){return window.axios.put("/forum/post/".concat(t,"/comment/serge"),{content:e})}},{key:"getComments",value:function(t){return window.axios.get("/forum/post/".concat(t,"/comments"))}},{key:"likePost",value:function(t){return window.axios.put("/forum/post/".concat(t,"/like"))}}]),t}();e["a"]=new r},bc13b:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"bg-indigo-1"},[o("landing")],1)},i=[],a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",[o("q-chip",{staticClass:"q-ma-md",attrs:{size:"lg",clickable:"",color:"secondary","text-color":"white",icon:t.currentCategoryIcon}},[t._v("\n    "+t._s(t.currentCategoryLabel)+"\n  ")]),o("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[o("q-fab",{attrs:{icon:"edit",direction:"up",color:"accent"}},[o("q-fab-action",{attrs:{color:"black",icon:"add"},on:{click:function(e){t.publishDialog=!0,t.triggerFocus()}}},[o("q-tooltip",{attrs:{anchor:"center left",self:"center right",offset:[10,10]}},[o("strong",[t._v("Publish an idea")]),t._v("\n          ("),o("q-icon",{attrs:{name:"wb_incandescent"}}),t._v(")\n        ")],1)],1)],1)],1),o("div",{staticClass:"flex row"},[o("div",{staticClass:"col-md-11"},t._l(t.ideas,(function(e){return o("div",{key:e.id},[o("div",{staticClass:"col-xl-2 col-md-4 col-xs-5 q-ml-lg q-pa-xl"},[o("q-card",{staticClass:" text-white",staticStyle:{background:"radial-gradient(circle, #35a2ff 0%, #014a88 100%)"}},[o("q-item-section",{staticClass:"q-pa-md"},[o("font",{attrs:{size:"5"}},[o("strong",[t._v(t._s(e.name))])])],1),o("q-separator"),o("q-card-section",{staticClass:"q-pa-md"},[o("p",[t._v("\n                "+t._s(e.content)+"\n              ")])]),o("br"),o("br"),o("q-separator"),o("q-item-section",{staticClass:"q-pa-md"},[o("q-expansion-item",{staticClass:"shadow-1 overflow-hidden",staticStyle:{"border-radius":"30px"},attrs:{icon:"comment",label:"Feedbacks <"+e.comments.length+">","header-class":"bg-secondary text-white","expand-icon-class":"text-white"}},[o("ideas-comments",{attrs:{comments:e.comments}})],1)],1),o("q-card-actions",{attrs:{align:"right"}},[o("q-btn",{attrs:{label:"Support the idea",color:"light-blue",size:"md",disable:!t.userIsLogged},on:{click:function(e){t.donationDialog=!0}}}),o("q-btn",{attrs:{flat:"",round:"",color:"grey",icon:"thumb_down"},on:{click:function(o){return t.dislikePost(e.id)}}}),o("q-btn",{attrs:{flat:"",round:"",color:"grey",icon:"thumb_up"},on:{click:function(o){return t.likePost(e.id)}}},[0===e.likes?o("q-badge",{attrs:{color:"blue",floating:""}},[t._v(t._s(e.likes))]):t._e(),e.likes>0?o("q-badge",{attrs:{color:"green",floating:""}},[t._v(t._s(e.likes))]):t._e(),e.likes<0?o("q-badge",{attrs:{color:"red",floating:""}},[t._v(t._s(e.likes))]):t._e()],1),o("q-btn",{attrs:{flat:"",round:"",color:"white",icon:"add_comment"},on:{click:function(o){t.commentDialog=!0,t.currentIdeaId=e.id}}},[o("q-tooltip",[t._v("\n                  Add a comment\n                ")])],1)],1)],1)],1)])})),0),o("div",{staticClass:"col-md-1"},[t._v("\n       \n    ")])]),o("q-dialog",{model:{value:t.publishDialog,callback:function(e){t.publishDialog=e},expression:"publishDialog"}},[o("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[o("q-item",[o("q-item-section",{staticClass:"q-pa-md"},[o("center",[o("font",{attrs:{size:"5"}},[o("strong",[t._v("Your Idea")])])],1)],1)],1),o("q-separator"),o("q-card-section",[o("div",{staticClass:"text-h6"})]),o("q-card-section",{staticClass:"q-pt-none"},[o("div",{staticClass:"flex row"},[o("div",{staticClass:"col-md-6 col-sm-12 col-xs-12 col-lg-4 col-xl-4"},[o("q-input",{ref:"ideaName",attrs:{standout:"bg-teal text-white",label:"Idea name"},model:{value:t.ideaName,callback:function(e){t.ideaName=e},expression:"ideaName"}})],1),o("div",{staticClass:"col-md-6 col-lg-8 col-xl-8"},[t._v("\n             \n          ")])])]),o("q-card-section",{staticClass:"q-pt-none"},[o("div",{staticClass:"flex row"},[o("div",{staticClass:"col-md-6 col-sm-12 col-xs-12 col-lg-4 col-xl-4"},[o("q-select",{attrs:{standout:"bg-teal text-white",options:t.categoriesOptions,label:"Category"},model:{value:t.categorie,callback:function(e){t.categorie=e},expression:"categorie"}})],1),o("div",{staticClass:"col-md-6 col-lg-8 col-xl-8"},[t._v("\n             \n          ")])])]),o("br"),o("q-card-section",{staticClass:"q-pt-none"},[t._v("\n        Your idea description\n      ")]),o("q-card-section",{staticClass:"q-pt-none"},[o("q-editor",{model:{value:t.editor,callback:function(e){t.editor=e},expression:"editor"}})],1),o("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"red"}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{disable:t.ideaName.length<4||t.ideaNameNotValide()||null===t.categorie||t.editor.length<100,flat:"",label:"Publish",color:"green"},on:{click:t.submitIdea}},[t.ideaName.length<4||t.ideaNameNotValide()||null===t.categorie||t.editor.length<100?o("q-tooltip",[t._v("\n            "+t._s(t.indiceSubmit)+"\n          ")]):t._e()],1)],1)],1)],1),o("comments-creator",{attrs:{commentDialog:t.commentDialog},on:{submited:t.submitComment}}),o("donation",{attrs:{donationDialog:t.donationDialogC},on:{submitDonation:t.submitDonation}})],1)},s=[],c=(o("7514"),o("7424")),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",t._l(t.comments,(function(e){return t.comments.length>0?o("div",{key:e.content},[o("q-card",{class:t.commentIndexForColor%2===0?"bg-grey-9":"bg-grey-7",attrs:{dark:"",bordered:""}},[o("div",{staticClass:"flex row col-12"},[o("div",{staticClass:"col-md-1 col-xs-2 col-sm-2 col-lg-1 col-xl-1"},[o("q-avatar",{staticClass:"q-ma-lg"},[o("img",{attrs:{src:"https://cdn.quasar.dev/img/boy-avatar.png"}}),o("q-badge",{staticClass:"q-mb-xl",attrs:{color:"blue",floating:""}},[t._v("Guest")])],1)],1),o("div",{staticClass:"col-md-11 col-xs-10 col-sm-10 col-lg-11 col-xl-11"},[t._v("\n            "+t._s(e.content)+"\n          ")]),t._v("\n          "+t._s(t.incrementCommentIndex())+"\n        ")])]),o("br")],1):t._e()})),0)},l=[],d={name:"comments",props:["comments"],data:function(){return{commentIndexForColor:0}},methods:{incrementCommentIndex:function(){this.commentIndexForColor+=1}},computed:{},mounted:function(){}},u=d,m=o("2877"),h=Object(m["a"])(u,r,l,!1,null,null,null),p=h.exports,f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-dialog",{model:{value:t.commentDialog,callback:function(e){t.commentDialog=e},expression:"commentDialog"}},[o("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[o("q-card-section",[o("div",{staticClass:"text-h6"},[t._v("Your feedBack")])]),o("q-separator"),o("q-card-section",{staticClass:"q-pt-none"},[o("q-editor",{model:{value:t.editorComment,callback:function(e){t.editorComment=e},expression:"editorComment"}})],1),o("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"red"}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{disable:t.editorComment.length<10||"Type your comment here !"===this.editorComment,flat:"",label:"Validate",color:"green"},on:{click:t.submitComment}},[t.editorComment.length<10?o("q-tooltip",[t._v("\n          You need to develop more you comment :)\n        ")]):t._e()],1)],1)],1)],1)},g=[],v={name:"commentsCreator",props:["commentDialog"],data:function(){return{comments:"",editorComment:"Type your comment here !"}},methods:{submitComment:function(){var t="",e=0;for(e;e<this.editorComment.length-4;e++)t+=this.editorComment.charAt(e);this.$emit("submited",t),console.log("finalComment =",t),this.editorComment="Type your comment here !"}},computed:{},mounted:function(){}},b=v,C=Object(m["a"])(b,f,g,!1,null,null,null),y=C.exports,w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-dialog",{model:{value:t.donationDialog,callback:function(e){t.donationDialog=e},expression:"donationDialog"}},[o("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[o("q-card-section",[o("div",{staticClass:"text-h6 text-center"},[t._v("The idea need your support in order to see the day-light")]),o("div",{staticClass:"text-h8 text-center"},[t._v("Donate to support the idea via"),o("font",{attrs:{color:"blue"}},[t._v(" PayPal")])],1)]),o("q-separator"),o("q-card-section",{staticClass:"q-pt-none"},[o("div",{staticClass:"flex row col-12"},[o("div",{staticClass:"col-2"},[t._v(" ")]),o("div",{staticClass:"col-11"},[o("q-checkbox",{attrs:{size:"md",val:"1",label:"1 $"},on:{input:function(e){return t.AllExlude(1)}},model:{value:t.one,callback:function(e){t.one=e},expression:"one"}})],1),o("div",{staticClass:"col-1"},[t._v(" ")]),o("div",{staticClass:"col-11"},[o("q-checkbox",{attrs:{size:"md",val:"10",label:"10 $"},on:{input:function(e){return t.AllExlude(10)}},model:{value:t.ten,callback:function(e){t.ten=e},expression:"ten"}})],1),o("div",{staticClass:"col-1"},[t._v(" ")]),o("div",{staticClass:"col-11"},[o("q-checkbox",{attrs:{size:"md",val:"20",label:"20 $"},on:{input:function(e){return t.AllExlude(20)}},model:{value:t.twenty,callback:function(e){t.twenty=e},expression:"twenty"}})],1),o("div",{staticClass:"col-1"},[t._v(" ")]),o("div",{staticClass:"col-11"},[o("q-checkbox",{attrs:{size:"md",val:"50",label:"50 $"},on:{input:function(e){return t.AllExlude(50)}},model:{value:t.fifty,callback:function(e){t.fifty=e},expression:"fifty"}})],1),o("div",{staticClass:"col-1"},[t._v(" ")]),o("div",{staticClass:"col-11"},[o("q-checkbox",{attrs:{size:"md",val:"100",label:"100 $"},on:{input:function(e){return t.AllExlude(100)}},model:{value:t.hundred,callback:function(e){t.hundred=e},expression:"hundred"}})],1),o("div",{staticClass:"col-1"},[t._v(" ")]),o("div",{staticClass:"col-11"},[o("q-checkbox",{attrs:{size:"md",val:"1000",label:"1000 $"},on:{input:function(e){return t.AllExlude(1e3)}},model:{value:t.thousand,callback:function(e){t.thousand=e},expression:"thousand"}})],1)])]),o("q-card-section",[o("div",{staticClass:"center"},[o("p",{staticClass:"bold"},[t._v("Payer en utilisant")]),o("div",{ref:"paypal",staticClass:"margin-left"})])]),o("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"red"},on:{click:t.submitDonation}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Validate",color:"green"},on:{click:t.submitDonation}})],1)],1)],1)},q=[],x=o("967e"),k=o.n(x),_=(o("96cf"),o("fa84")),D=o.n(_),N={name:"donation",props:["donationDialog"],data:function(){return{donationInfo:"",shape:["line"],one:!1,ten:!0,twenty:!1,fifty:!1,hundred:!1,thousand:!1,product:{price:10,description:"Donation to ideasMatter"}}},methods:{setLoaded:function(){var t=this;this.loaded=!0,window.paypal.Buttons({createOrder:function(e,o){return o.order.create({purchase_units:[{description:t.product.description,amount:{currency_code:"USD",value:t.product.price}}]})},onApprove:function(){var e=D()(k.a.mark((function e(o,n){var i;return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.order.capture();case 2:i=e.sent,t.data,t.paidFor=!0,console.log(i);case 6:case"end":return e.stop()}}),e)})));function o(t,o){return e.apply(this,arguments)}return o}(),onError:function(t){console.log(t)}}).render(this.$refs.paypal)},submitDonation:function(){this.$emit("submitDonation",this.donationInfo),this.editorComment="Type your comment here !"},AllExlude:function(t){switch(t){case 1:this.one=!0,this.ten=!1,this.twenty=!1,this.fifty=!1,this.hundred=!1,this.thousand=!1,this.product.price=1;break;case 10:this.one=!1,this.ten=!0,this.twenty=!1,this.fifty=!1,this.hundred=!1,this.thousand=!1,this.product.price=10;break;case 20:this.one=!1,this.ten=!1,this.twenty=!0,this.fifty=!1,this.hundred=!1,this.thousand=!1,this.product.price=20;break;case 50:this.one=!1,this.ten=!1,this.twenty=!1,this.fifty=!0,this.hundred=!1,this.thousand=!1,this.product.price=50;break;case 100:this.one=!1,this.ten=!1,this.twenty=!1,this.fifty=!1,this.hundred=!0,this.thousand=!1,this.product.price=100;break;case 1e3:this.one=!1,this.ten=!1,this.twenty=!1,this.fifty=!1,this.hundred=!1,this.thousand=!0,this.product.price=1e3;break;default:}}},computed:{},mounted:function(){console.log("this.donationDialog = ",this.donationDialog),this.donationDialog},watch:{product:function(t,e){this.setLoaded()},donationDialog:function(t,e){if(!0===t){console.log("dans le mountedddddddddd ");var o=document.createElement("script");o.src="https://www.paypal.com/sdk/js?client-id=ARNRNvgJTH0oaRUrQUC-p-MgCXzIOl5T6um6YqdW7U9mkwzV-ZkfCtp9c0QH6dRWArJY85Yh3rLCT5Vu",o.addEventListener("load",this.setLoaded),document.body.appendChild(o)}}}},I=N,L=Object(m["a"])(I,w,q,!1,null,null,null),A=L.exports,$={name:"Landing",components:{ideasComments:p,commentsCreator:y,donation:A},data:function(){return{currentIdeaId:-1,categorie:null,currentCategory:"All Categories",publishDialog:!1,ideaName:"",categoriesOptions:["Technologie","Science","Space"],editor:"Describe your idea here",ideas:[],id:0,nbLike:0,userIsLogged:!0,commentDialog:!1,comments:[],donationDialog:!1}},methods:{dislikePost:function(t){},likePost:function(t){var e=this;c["a"].likePost(t).then((function(o){console.log("response =",o),e.ideas.find((function(e){return e.id===t})).likes=e.ideas.find((function(e){return e.id===t})).likes+1})).catch((function(e){console.warn("error while liking post with id =",t,", the error is  ",e)}))},submitDonation:function(t){console.log("donation submited successfuly"),this.donationDialog=!1},triggerFocus:function(){var t=this;setTimeout((function(){t.$refs.ideaName.focus()}),100)},submitComment:function(t){console.log("payload =",t,"     currentIdeaId =",this.currentIdeaId);var e=this;t&&-1!==e.currentIdeaId&&(c["a"].commentPost(e.currentIdeaId,t).then((function(t){console.log("response =",t),e.ideas.find((function(t){return t.id===e.currentIdeaId})).comments=t.data.comments})).catch((function(t){console.warn("err =",t)})),e.commentDialog=!1,e.$q.notify({message:"Your feedBack has been published",color:"green-7",textColor:"white",icon:"done"}))},submitIdea:function(){var t=this;c["a"].sendPost(this.categorie,this.editor).then((function(e){console.log("response =",e),t.ideas.push({id:e.data.idPost,content:e.data.content,name:e.data.subject,category:"none"})})).catch((function(t){console.warn("error while sending the post to the server ",t)})),this.editor="",this.ideaName="",this.categorie="",this.$q.notify({message:"Your idea has been published",color:"green-7",textColor:"white",icon:"done"})},onClick:function(){},viewMyIdeas:function(){},apiLoading:function(){this.internalLoading=!0},finishedApiLoading:function(){this.internalLoading=!1},ideaNameNotValide:function(){for(var t=0;t<this.ideaName.length;t++)if((this.ideaName.charAt(t).toLowerCase()>"z"||this.ideaName.charAt(t).toLowerCase()<"a")&&" "!==this.ideaName.charAt(t))return!0;return!1}},computed:{indiceSubmit:function(){if(!this.ideaName)return"The idea name should not be empty";if(this.ideaName.length<4)return"The length of the idea name should be superior of 4 chars";for(var t=0;t<this.ideaName.length;t++)if((this.ideaName.charAt(t).toLowerCase()>"z"||this.ideaName.charAt(t).toLowerCase()<"a")&&" "!==this.ideaName.charAt(t))return"The ideaName should contain only alphabetic letters";return null!==this.categorie&&this.categorie?this.editor.length<100?"Your idea is not enought developped":void 0:"The categorie should not be empty"},currentCategoryLabel:function(){return this.currentCategory},currentCategoryIcon:function(){return console.log("res =",this.currentCategory),this.currentCategory?"Technology"===this.currentCategory?"android":"Space"===this.currentCategory?"public":"Science"===this.currentCategory?"spa":void 0:""},donationDialogC:function(){return console.log("dans le donnation dialog computed",this.donationDialog),this.donationDialog}},mounted:function(){},created:function(){var t=this,e=this;c["a"].loading(),c["a"].getPosts().then((function(t){console.log("response =",t),c["a"].finishedLoading(),t.data.forEach((function(t){e.ideas.push({id:t.idPost,content:t.content,name:t.subject,category:"none",comments:t.comments,likes:t.likes})}))})).catch((function(e){console.warn("can't fetch posts from dataBase ",e),c["a"].finishedLoading(),t.$q.notify({message:"An error has occurred, can't connect to the backEnd side",color:"red-7",textColor:"white",icon:"warning"})})),setTimeout((function(){c["a"].finishedLoading()}),1e4)},watch:{$route:function(t,e){this.$router.history.current.query&&this.$router.history.current.query.category?this.currentCategory=this.$router.history.current.query.category:this.currentCategory="All Categories"}}},P=$,E=Object(m["a"])(P,a,s,!1,null,null,null),T=E.exports,z={name:"Home",components:{Landing:T},data:function(){return{}},computed:{},methods:{}},S=z,Y=Object(m["a"])(S,n,i,!1,null,null,null);e["default"]=Y.exports}}]);